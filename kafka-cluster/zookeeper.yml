services:
  zookeeper1:
    image: confluentinc/cp-zookeeper:6.1.0
    environment:
      - TZ=America/Guayaquil
      - ZOOKEEPER_CLIENT_PORT=12181
      - ZOOKEEPER_TICK_TIME=2000
      - ZOOKEEPER_SYNC_LIMIT=2
      - ZOOKEEPER_SERVER_ID=1
      - ZOOKEEPER_SERVERS=zookeeper1:2888:3888;zookeeper2:2888:3888;zookeeper3:2888:3888
    ports:
      - 12181:12181
    volumes:
      - zookeeper1_data:/var/lib/zookeeper/data
      - zookeeper1_datalog:/var/lib/zookeeper/log
    restart: on-failure

  zookeeper2:
    image: confluentinc/cp-zookeeper:6.1.0
    environment:
      - TZ=America/Guayaquil
      - ZOOKEEPER_CLIENT_PORT=22181
      - ZOOKEEPER_TICK_TIME=2000
      - ZOOKEEPER_SYNC_LIMIT=2
      - ZOOKEEPER_SERVER_ID=2
      - ZOOKEEPER_SERVERS=zookeeper1:2888:3888;zookeeper2:2888:3888;zookeeper3:2888:3888
    ports:
      - 22181:22181
    volumes:
      - zookeeper2_data:/var/lib/zookeeper/data
      - zookeeper2_datalog:/var/lib/zookeeper/log
    restart: on-failure

  zookeeper3:
    image: confluentinc/cp-zookeeper:6.1.0
    environment:
      - TZ=America/Guayaquil
      - ZOOKEEPER_CLIENT_PORT=32181
      - ZOOKEEPER_TICK_TIME=2000
      - ZOOKEEPER_SYNC_LIMIT=2
      - ZOOKEEPER_SERVER_ID=3
      - ZOOKEEPER_SERVERS=zookeeper1:2888:3888;zookeeper2:2888:3888;zookeeper3:2888:3888
    ports:
      - 32181:32181
    volumes:
      - zookeeper3_data:/var/lib/zookeeper/data
      - zookeeper3_datalog:/var/lib/zookeeper/log
    restart: on-failure

volumes:
  zookeeper1_data:
  zookeeper1_datalog:
  zookeeper2_data:
  zookeeper2_datalog:
  zookeeper3_data:
  zookeeper3_datalog:
